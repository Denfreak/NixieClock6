![PROJECT_PHOTO](https://sun9-21.userapi.com/bWwjce5PnHbB8VanPXkxXA7Pkjoxh6WSA_MJUg/TnIqux89CcI.jpg)
# Часы на газоразрядных индикаторах и Arduino
* [Описание проекта](#chapter-0)
* [Что здесь добавлено](#chapter-1)
* [Папки проекта](#chapter-2)
* [Схемы подключения](#chapter-3)
* [Радиодетали](#chapter-4)
* [Как скачать и прошить](#chapter-5)
* [FAQ](#chapter-6)

[![AlexGyver YouTube](http://alexgyver.ru/git_banner.jpg)](https://www.youtube.com/channel/UCgtAOyEQdAyjvm9ATCi_Aig?sub_confirmation=1)

<a id="chapter-0"></a>
## Описание проекта
Часы на советских газоразрядных индикаторах под управлением платформы Arduino. 
Страница проекта AlexGyver на сайте: https://alexgyver.ru/nixieclock_v2/
  
Имеют три кнопки управления, датички температуры, давления, влажности и будильник. 
- SET
    - удержали в режиме часов - настройка БУДИЛЬНИКА
    - удержали в режиме настройки будильника - настройка ЧАСОВ
    - двойной клик в режиме будильника - вернуться к часам
    - удержали в настройке часов - возврат к часам с новым временем
    - клик во время настройки - смена настройки часов/минут
- ALARM - вкл/выкл будильник 

<a id="chapter-1"></a>
## Что здесь добавлено
Мы подписчики AlexGyver, я Евгений "adm503" и Владислав "poty"
совместно внесли изменения в проект AlexGyver  NixieClock_v2.
Задачи которые мы преследовали:
1. 6 ламп - часы, минуты, секунды.
2. Возможность устанавливать верхнюю плату от прокта AlexGyver NixieClock_v2.
Да, это чистой воды прихоть. Зато я могу перекрестно тестировать платы.
3. Сделать нижнюю плату той-же ширины что и верхняя.
4. Добавить датчик температуры, влажности и давления BME280.
5. Постоянная синхронизация тактов времени с модуля RTC.
6. Допилить будильник.
7. Сделать плату универсальной, пригодной и для светодиодной мерцающей разделительной точки и для неоновой.
8. Добавить сенсорную кнопку для выключения будильника.
9. Контроль высокого напряжения и самостабилизация.
10. Ну и конечно же, самореализация. Ах какое удовольствие делать что-то прекрасное.
Особенно в этот сумасшедший 2020 год. Пускай версия нашей платы 2020 года, на память об этом безумии, будет называться "COVID 2019".
Будем смотреть и вздрагивать.

<a id="chapter-2"></a>
## Папки
**ВНИМАНИЕ! Если это твой первый опыт работы с Arduino, читай [инструкцию](#chapter-4)**
- **libraries** - библиотеки проекта. Заменить имеющиеся версии (в этом проекте внешних библиотек нет)
- **firmware** - прошивки для Arduino
- **schemes** - схемы подключения компонентов

<a id="chapter-3"></a>
## Схемы
- Схемы на EasyEDA: https://easyeda.com/adm503/nixieclock-covid-2019
- Общая
- ИН-14/ИН-16
- ИН-14
- ИН-12
Гербер файлы уже в архиве!  

<a id="chapter-4"></a>
## Радиодетали
- Arduino NANO 328p -1шт.
- DS3231 микро -1шт.
- BME280 цифровой датчик температуры, влажности и атмосферного давления.
- Гнёзда на плату PBS-40 (DS1023-1x40) -1шт.
- Рейка штыревая PLS-40 (DS1021-1x40) -1шт.
- Конденсатор электролитический 4,7 мкФ 350V -1шт.
- Индуктивность 220 мкГн (uH) -1шт.
- Диод HER106 (BYV26C) -1шт.
- Транзистор IRF840PBF -1шт.
- Оптопара TLP627(F) DIP-4 -7шт.
- Дешифратор К155ИД1 -1шт.
- RGB cветодиоды 5 мм (общий коллектор) -6шт.
- Резисторы 0.25 Вт для версии со светодиодными точками.
100 Ом -3шт., 470 Ом -1шт., 1к - 1шт., 5,1к - 3шт., 10к - 2шт., 360к -1шт., 3к -1шт., 33к -1шт.
330к -2шт.
- Резисторы 0.25 Вт для версии со светодиодными точками
100 Ом -3шт.; 470 Ом -1шт; 1к - 1шт.; 5,1к - 3шт.; 10к - 2шт.; 360к -1шт.; 3к -1шт.; 33к -1шт.
150 Ом -2шт.
- Транзистор (для звука) любой n-p-n -1шт.
- Разъем питания -1шт.
В проекте заложена возможность установки на плату USB разъема (5 вариантов на выбор) или гнезда питания с понижающем модулем
USB: Type C 3,1 SMD DIP; Mini USB 5pin; Micro USB Type B SMD DIP; USB 2,0 4PIN Type A, гнездовой разъем G54; USB 2,0 Type A гнездовой разъем 5PIN DIP вертикальный.
Понижающий модуль QS-1205CME-3A (DC-DC 12-24 В до 5 В 3A)
- Кнопки тактовые 6х6 боковые (1-1825027-7; 1825027-5; 1-1825027-1; 1825027-5; 1825027-5; KLS7-TS6606-5.0-180) -3шт.
- Модуль сенсорной кнопки TTP223 -1шт.

<a id="chapter-5"></a>
## Как скачать и прошить
* [Первые шаги с Arduino](http://alexgyver.ru/arduino-first/) - ультра подробная статья по началу работы с Ардуино, ознакомиться первым делом!
* Скачать архив с проектом
> На главной странице проекта (где ты читаешь этот текст) вверху справа зелёная кнопка **Clone or download**, вот её жми, там будет **Download ZIP**
* Установить библиотеки в  
`C:\Program Files (x86)\Arduino\libraries\` (Windows x64)  
`C:\Program Files\Arduino\libraries\` (Windows x86)
* **Подключить внешнее питание 5 Вольт**
* Подключить Ардуино к компьютеру
* Запустить файл прошивки (который имеет расширение .ino)
* Настроить IDE (COM порт, модель Arduino, как в статье выше)
* Настроить что нужно по проекту
* Нажать загрузить
* Пользоваться (вздрагивать) 

## Настройки в коде
    // ************************** НАСТРОЙКИ **************************
    BRIGHT 100          // яркость цифр дневная, %
    BRIGHT_N 20         // яркость ночная, %
    NIGHT_START 23      // час перехода на ночную подсветку (BRIGHT_N)
    NIGHT_END 7         // час перехода на дневную подсветку (BRIGHT)
    FREQ 900            // частота писка будильника

    CLOCK_TIME 10       // время (с), которое отображаются часы
    TEMP_TIME 5         // время (с), которое отображается температура и влажность
    ALM_TIMEOUT 30      // таймаут будильника

    // *********************** ДЛЯ РАЗРАБОТЧИКОВ ***********************
    BURN_TIME 200       // период обхода в режиме очистки
    REDRAW_TIME 3000    // время цикла одной цифры, мс
    ON_TIME 2200        // время включенности одной цифры, мс
	
<a id="chapter-6"></a>
## FAQ от AlexGyver
### Основные вопросы
В: Как скачать с этого грёбаного сайта?  
О: На главной странице проекта (где ты читаешь этот текст) вверху справа зелёная кнопка **Clone or download**, вот её жми, там будет **Download ZIP**

В: Скачался какой то файл .zip, куда его теперь?  
О: Это архив. Можно открыть стандартными средствами Windows, но думаю у всех на компьютере установлен WinRAR, архив нужно правой кнопкой и извлечь.

В: Я совсем новичок! Что мне делать с Ардуиной, где взять все программы?  
О: Читай и смотри видос http://alexgyver.ru/arduino-first/

В: Вылетает ошибка загрузки / компиляции!
О: Читай тут: https://alexgyver.ru/arduino-first/#step-5

В: Сколько стоит?  
О: Ничего не продаю.
